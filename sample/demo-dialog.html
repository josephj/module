<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="created" content="2012-08-16">
<title>Module Prototype</title>
<link rel="stylesheet" href="http://yui.yahooapis.com/3.6.0/build/cssreset/reset-min.css">
<link rel="stylesheet" href="http://yui.yahooapis.com/3.6.0/build/cssfonts/fonts-min.css">
<link rel="stylesheet" href="http://yui.yahooapis.com/3.6.0/build/cssbutton/cssbutton.css">
<link rel="stylesheet" href="http://a.mimgs.com/lib/mui/base/base.css">
<link rel="stylesheet" href="http://yui.yahooapis.com/3.6.0/build/cssfonts/fonts-min.css">
<link rel="stylesheet" href="http://a.mimgs.com/lib/mui/cssbutton/assets/skins/miiicasa/cssbutton-skin.css">
<link rel="stylesheet" href="panel.css">
<script src="http://yui.yahooapis.com/3.6.0/build/yui/yui-min.js"></script>
<script src="../module.js"></script>
<script src="../module-manager.js"></script>
<script src="../module-dialog.js"></script>
<style type="text/css">
.mod {
    border: solid 1px #ccc;
    float: left;
}
</style>
</head>
<body class="yui3-skin-miiicasa">

    <div id="foo" class="mod">
        <div class="mod-content">
            <div class="hd"><h2>#foo</h2></div>
            <div class="bd">
                <button class="alert">module.alert();</button>
                <button class="confirm">module.confirm();</button>
                <button class="confirm2">module.confirm();</button>
                <button class="open">module.open();</button>
            </div>
        </div>
    </div>

    <script>
    YUI.add("_foo", function (Y) {
        var module = new Y.Module({
            selector: "#foo",
            dialog: true,
            init: function () {
                Y.log("init", "info", "_foo");
            },
            on: {
                viewload: function () {
                    Y.log("viewload", "info", "_foo");
                }
            }
        });
module.show();
        Y.one(".alert").on("click", function (e) {
            module.alert("hihi", function () {
                Y.log("alert callback");
            });
            e.preventDefault();
        });
        Y.one(".confirm").on("click", function (e) {
            module.confirm("hihi", function (result) {
                Y.log(result);
            });
            e.preventDefault();
        });
        Y.one(".confirm2").on("click", function (e) {
            var attr = {"title": "Custom Title", "content": "Custom Content..."};
            module.confirm(attr, function (result) {
                Y.log(result);
            });
            e.preventDefault();
        });
        Y.one(".open").on("click", function (e) {
            e.preventDefault();
        });
    }, "0.0.1", {
        "requires": [
            "module",
            "module-dialog"
        ]
    });

    YUI({
        fetchCSS: false,
        lang: "zh-TW",
        groups: {
            myapp: {
                filter: "raw",
                base: "//lab.josephj.com/2013/",
                modules : {
                    "module" : {
                        lang: ["en-US", "zh-TW"]
                    },
                }
            }
        }
    }).use("_foo", "module-manager", function (Y) {
        var manager = new Y.ModuleManager();
        manager.startAll();
    });
    </script>

</body>
</html>
